<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Category Foods | Delicious Eats</title>
    <meta name="description" content="Browse foods by category on Delicious Eats">
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Hover CSS -->
    <link rel="stylesheet" href="css/hover-min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <header class="navbar">
        <nav id="site-top-nav" class="navbar-menu navbar-fixed-top">
            <div class="container nav-container">
                <!-- Logo -->
                <div class="logo">
                    <a href="index.html" title="Delicious Eats">
                        <img src="img/logo.jpg" alt="Delicious Eats Logo" class="img-responsive">
                    </a>
                </div>
                
                <!-- Mobile Menu Toggle -->
                <button class="menu-toggle" id="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <!-- Main Menu -->
                <div class="menu" id="main-menu">
                    <ul>
                        <li><a class="hvr-underline-from-center" href="index.html">Home</a></li>
                        <li><a class="hvr-underline-from-center" href="categories.html">Categories</a></li>
                        <li><a class="hvr-underline-from-center" href="foods.html">Menu</a></li>
                        <li><a class="hvr-underline-from-center" href="order.html">Order</a></li>
                        <li><a class="hvr-underline-from-center" href="contact.html">Contact</a></li>
                        <li><a class="hvr-underline-from-center" href="login.html">Login</a></li>
                        <li><a class="hvr-underline-from-center" href="team.html">Team</a></li>
                        <li><a class="hvr-underline-from-center" href="chatbot.html">Chat Bot</a></li>
                        <li><a class="hvr-underline-from-center" href="account.html">My Account</a></li>
                        <li><a class="hvr-underline-from-center" href="login.html">Login</a></li>
                        <li>
                            <a id="shopping-cart" class="cart-icon">
                                <i class="fas fa-shopping-cart"></i>
                                <span class="badge">0</span>
                            </a>
                            <div id="cart-content" class="cart-dropdown">
                                <h3 class="text-center">Your Shopping Cart</h3>
                                <table class="cart-table">
                                    <thead>
                                        <tr>
                                            <th>Item</th>
                                            <th>Name</th>
                                            <th>Price</th>
                                            <th>Qty</th>
                                            <th>Total</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Cart items will be dynamically added here -->
                                    </tbody>
                                </table>
                                <div class="text-center">
                                    <a href="order.html" class="btn btn-primary">Proceed to Checkout</a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Category Foods Section -->
    <section class="food-menu">
        <div class="container">
            <div class="heading">
                <h2 id="category-title">Category Foods</h2>
                <p id="category-description">Browse our selection of delicious foods in this category</p>
            </div>
            
            <div class="grid grid-3" id="category-foods-container">
                <!-- Foods will be dynamically loaded here -->
                <div class="food-card">
                    <div class="food-img-container">
                        <img src="img/food/f1.jpg" alt="Food Item" class="food-img">
                    </div>
                    <div class="food-body">
                        <h3 class="food-title">Food Name</h3>
                        <p class="food-price">$0.00</p>
                        <p class="food-desc">Food description goes here</p>
                        <form class="food-form">
                            <input type="number" class="food-qty" value="1" min="1">
                            <button type="submit" class="btn btn-primary btn-sm">Add to Cart</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-40">
                <a href="categories.html" class="btn btn-outline">Back to Categories</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="grid grid-3">
                <div>
                    <h3>About Us</h3>
                    <p>Delicious Eats is a premium food delivery service bringing you the best culinary experiences from top restaurants right to your doorstep.</p>
                </div>
                
                <div>
                    <h3>Quick Links</h3>
                    <div class="footer-links">
                        <a href="index.html">Home</a>
                        <a href="foods.html">Menu</a>
                        <a href="order.html">Order</a>
                        <a href="contact.html">Contact</a>
                    </div>
                </div>
                
                <div>
                    <h3>Connect With Us</h3>
                    <div class="social-links">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.youtube.com/channel/UCrTEZy6WwgczJzw0BYCfu5Q" class="social-icon"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Copyright -->
    <section class="copyright">
        <div class="container">
            <p>&copy; 2023 Delicious Eats. All rights reserved. Designed by <a href="#">Group 3 - I4AMS</a></p>
        </div>
    </section>

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" id="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </a>

    <!-- JavaScript -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/cart.js"></script> <!-- Add this first -->
    <script src="js/addToCart.js"></script>
    <script src="js/category-foods.js"></script>
    <script src="js/nav.js"></script>
    <script src="js/sendDataToBackend.js"></script>
    <script>
        // Mobile Menu Toggle
        document.getElementById('menu-toggle').addEventListener('click', function() {
            document.getElementById('main-menu').classList.toggle('active');
        });

        // Shopping Cart Toggle
        document.getElementById('shopping-cart').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('cart-content').classList.toggle('show');
        });

        // Back to Top Button
        window.addEventListener('scroll', function() {
            var backToTop = document.getElementById('back-to-top');
            if (window.pageYOffset > 300) {
                backToTop.classList.add('show');
            } else {
                backToTop.classList.remove('show');
            }
        });

        document.getElementById('back-to-top').addEventListener('click', function(e) {
            e.preventDefault();
            window.scrollTo({top: 0, behavior: 'smooth'});
        });

        // Get category from URL
        const urlParams = new URLSearchParams(window.location.search);
        const category = urlParams.get('category');
        
        // Update page title and description based on category
        if (category) {
            const categoryTitle = document.getElementById('category-title');
            const categoryDesc = document.getElementById('category-description');
            
            switch(category) {
                case 'food':
                    categoryTitle.textContent = 'Main Dishes';
                    categoryDesc.textContent = 'Explore our delicious main dishes';
                    break;
                case 'soup':
                    categoryTitle.textContent = 'Soups';
                    categoryDesc.textContent = 'Warm up with our tasty soups';
                    break;
                case 'drink':
                    categoryTitle.textContent = 'Drinks';
                    categoryDesc.textContent = 'Refresh yourself with our drinks';
                    break;
                default:
                    categoryTitle.textContent = 'All Foods';
                    categoryDesc.textContent = 'Browse our full menu';
            }
            
            // Here you would typically load foods for this category from your backend
            // For now, we'll just simulate it
            loadCategoryFoods(category);
        }
        
        function loadCategoryFoods(category) {
            // This would be replaced with an actual API call to your backend
            const container = document.getElementById('category-foods-container');
            container.innerHTML = ''; // Clear placeholder
            
            // Sample data - replace with your actual data
            const foods = {
                'food': [
                    {id: 1, name: 'បាយស្រូប', price: 1.25, desc: 'បាយសាច់ជ្រូកពងទាចៀន', image: 'img/food/f1.jpg'},
                    {id: 2, name: 'បាយម្រះព្រូវ', price: 1.50, desc: 'បាយឆារម្រះព្រូវ with ពងទាចៀន', image: 'img/food/f2.jpg'}
                ],
                'soup': [
                    {id: 3, name: 'ហ្វឺ', price: 2.50, desc: 'ហ្វឺប្រហិតសាច់គោ', image: 'img/food/s1.jpg'},
                    {id: 4, name: 'គុយទាវ', price: 2.50, desc: 'គុយទាវប្រហិតសាច់គោ', image: 'img/food/s2.jpg'}
                ],
                'drink': [
                    {id: 5, name: 'កាហ្វេ', price: 1.00, desc: 'កាហ្វេទឹកដោះគោទឹកកក(សាកថ្មបាន)', image: 'img/food/d1.jpg'},
                    {id: 6, name: 'Milk Tea', price: 2.00, desc: 'តែចិន Olong Tea with sweat steam milk and Boba', image: 'img/food/d2.jpg'}
                ]
            };
            
            const categoryFoods = foods[category] || [];
            
            if (categoryFoods.length === 0) {
                container.innerHTML = '<p class="text-center">No foods found in this category.</p>';
                return;
            }
            
            categoryFoods.forEach(food => {
                const foodCard = document.createElement('div');
                foodCard.className = 'food-card';
                foodCard.innerHTML = `
                    <div class="food-img-container">
                        <img src="${food.image}" alt="${food.name}" class="food-img">
                    </div>
                    <div class="food-body">
                        <h3 class="food-title">${food.name}</h3>
                        <p class="food-price">$${food.price.toFixed(2)}</p>
                        <p class="food-desc">${food.desc}</p>
                        <form class="food-form">
                            <input type="number" class="food-qty" value="1" min="1">
                            <button type="submit" class="btn btn-primary btn-sm">Add to Cart</button>
                        </form>
                    </div>
                `;
                container.appendChild(foodCard);
            });
        }
    </script>
</body>
</html>